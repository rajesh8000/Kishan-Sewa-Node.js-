{"ast":null,"code":"import myKey from './KhaltiKey';\nimport axios from 'axios';\nimport { toast } from \"react-hot-toast\";\nconst config = {\n  publicKey: myKey.publicTestKey,\n  productIdentity: '1231421223',\n  productName: 'Tomatooes',\n  productUrl: 'http://localhost:3000',\n  orderId: '',\n  eventHandler: {\n    onSuccess(payload) {\n      const data = {\n        token: payload.token,\n        amount: payload.amount\n      };\n\n      // axios.post('http://localhost:5000/api/orders/verifypayment',data )\n      //      .then((response) => {\n      //     console.log(response.data); // verify status\n\n      // Update the database if the payment was successful\n      //  if (response.data.status === 'Completed') {\n      //   const orderId = response.data.order._id;\n\n      axios.get().then(response => {\n        localStorage.setItem(\"paid\", JSON.stringify(true));\n        localStorage.setItem(\"paymentResult\", JSON.stringify(payload));\n        window.location.reload();\n      }).catch(error => {\n        console.log(error);\n      });\n      toast.success(\"Order Placed Successfully\");\n    },\n    onError(error) {\n      console.log(error);\n    },\n    onClose() {\n      window.location.href = 'http://localhost:3000/';\n    }\n  },\n  paymentPreference: ['KHALTI', 'EBANKING', 'MOBILE_BANKING', 'CONNECT_IPS', 'SCT']\n};\nexport default config;","map":{"version":3,"names":["myKey","axios","toast","config","publicKey","publicTestKey","productIdentity","productName","productUrl","orderId","eventHandler","onSuccess","payload","data","token","amount","get","then","response","localStorage","setItem","JSON","stringify","window","location","reload","catch","error","console","log","success","onError","onClose","href","paymentPreference"],"sources":["D:/fff/Fyp/frontend/src/components/Khalti/KhaltiConfig.js"],"sourcesContent":["import myKey from './KhaltiKey';\r\nimport axios from 'axios';\r\nimport { toast } from \"react-hot-toast\";\r\n\r\n\r\n\r\n\r\nconst config = {\r\n  publicKey: myKey.publicTestKey,\r\n  productIdentity: '1231421223',\r\n  productName: 'Tomatooes',\r\n  productUrl: 'http://localhost:3000',\r\n  orderId:'',\r\n  eventHandler: {\r\n    \r\n    onSuccess(payload) {\r\n      const data = {\r\n        token: payload.token,\r\n        amount: payload.amount,    \r\n        \r\n      };\r\n     \r\n      \r\n\r\n// axios.post('http://localhost:5000/api/orders/verifypayment',data )\r\n//      .then((response) => {\r\n//     console.log(response.data); // verify status\r\n\r\n\r\n   // Update the database if the payment was successful\r\n  //  if (response.data.status === 'Completed') {\r\n  //   const orderId = response.data.order._id;\r\n\r\n   \r\n  axios\r\n  .get(\r\n    \r\n  )\r\n  .then((response) => {\r\n    localStorage.setItem(\"paid\", JSON.stringify(true))\r\n    localStorage.setItem(\"paymentResult\", JSON.stringify(payload))\r\n    window.location.reload()\r\n  })\r\n  .catch((error) => {\r\n    console.log(error);\r\n  });\r\n  toast.success(\"Order Placed Successfully\");\r\n\r\n \r\n},\r\n\r\n    onError(error) {\r\n      console.log(error);\r\n    },\r\n    onClose() {\r\n      window.location.href = 'http://localhost:3000/';\r\n    },\r\n  },\r\n  paymentPreference: [\r\n    'KHALTI',\r\n    'EBANKING',\r\n    'MOBILE_BANKING',\r\n    'CONNECT_IPS',\r\n    'SCT',\r\n  ],\r\n};\r\n\r\nexport default config;\r\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,aAAa;AAC/B,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,KAAK,QAAQ,iBAAiB;AAKvC,MAAMC,MAAM,GAAG;EACbC,SAAS,EAAEJ,KAAK,CAACK,aAAa;EAC9BC,eAAe,EAAE,YAAY;EAC7BC,WAAW,EAAE,WAAW;EACxBC,UAAU,EAAE,uBAAuB;EACnCC,OAAO,EAAC,EAAE;EACVC,YAAY,EAAE;IAEZC,SAASA,CAACC,OAAO,EAAE;MACjB,MAAMC,IAAI,GAAG;QACXC,KAAK,EAAEF,OAAO,CAACE,KAAK;QACpBC,MAAM,EAAEH,OAAO,CAACG;MAElB,CAAC;;MAIP;MACA;MACA;;MAGG;MACD;MACA;;MAGAd,KAAK,CACJe,GAAG,EAEH,CACAC,IAAI,CAAEC,QAAQ,IAAK;QAClBC,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEC,IAAI,CAACC,SAAS,CAAC,IAAI,CAAC,CAAC;QAClDH,YAAY,CAACC,OAAO,CAAC,eAAe,EAAEC,IAAI,CAACC,SAAS,CAACV,OAAO,CAAC,CAAC;QAC9DW,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC1B,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;MACFzB,KAAK,CAAC4B,OAAO,CAAC,2BAA2B,CAAC;IAG5C,CAAC;IAEGC,OAAOA,CAACJ,KAAK,EAAE;MACbC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC;IACDK,OAAOA,CAAA,EAAG;MACRT,MAAM,CAACC,QAAQ,CAACS,IAAI,GAAG,wBAAwB;IACjD;EACF,CAAC;EACDC,iBAAiB,EAAE,CACjB,QAAQ,EACR,UAAU,EACV,gBAAgB,EAChB,aAAa,EACb,KAAK;AAET,CAAC;AAED,eAAe/B,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}